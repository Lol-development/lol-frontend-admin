<div class="card">
    <div class="card-body">
        <h4 class="header-title">Detalles de la operacion</h4>

        <!-- end nav-->
        <div class="tab-content">
            <div class="tab-pane show active" id="bordered-justified-tabs-preview">
                <ul class="nav nav-tabs nav-justified nav-bordered mb-3">
                    <li class="nav-item ">
                        <a href="#turns" data-bs-toggle="tab" aria-expanded="false" class="nav-link active">
                            <i class="mdi mdi-home-variant d-md-none d-block"></i>
                            <span class="d-none d-md-block">Turnos</span>
                        </a>
                    </li>
                    <li class="nav-item ">
                        <a href="#operations-state" data-bs-toggle="tab" aria-expanded="false" class="nav-link">
                            <i class="mdi mdi-home-variant d-md-none d-block"></i>
                            <span class="d-none d-md-block">Estado de hechos</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#Desprendibles" data-bs-toggle="tab" aria-expanded="false" class="nav-link ">
                            <i class="mdi mdi-account-circle d-md-none d-block"></i>
                            <span class="d-none d-md-block">Desprendibles</span>
                        </a>
                    </li>

                    <li class="nav-item">
                        <a href="#chargue" data-bs-toggle="tab" aria-expanded="false" class="nav-link">
                            <i class="mdi mdi-settings-outline d-md-none d-block"></i>
                            <span class="d-none d-md-block">Cargue</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#descharge" data-bs-toggle="tab" aria-expanded="false" class="nav-link">
                            <i class="mdi mdi-settings-outline d-md-none d-block"></i>
                            <span class="d-none d-md-block">Descargue</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#office" data-bs-toggle="tab" aria-expanded="false" class="nav-link">
                            <i class="mdi mdi-settings-outline d-md-none d-block"></i>
                            <span class="d-none d-md-block">Despacho</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#evidencias" data-bs-toggle="tab" aria-expanded="false" class="nav-link">
                            <i class="mdi mdi-settings-outline d-md-none d-block"></i>
                            <span class="d-none d-md-block">Evidencias</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#reportes" data-bs-toggle="tab" aria-expanded="false" class="nav-link">
                            <i class="mdi mdi-settings-outline d-md-none d-block"></i>
                            <span class="d-none d-md-block">Reportes</span>
                        </a>
                    </li>
                </ul>

                <div class="row">
                    <div class="col-sm-12">
                        <div class="tab-content">
                            <div class="tab-pane fade  show active" id="turns">
                                <div class="tab-content">
                                    <div class="tab-pane show active" id="vertical-left-tabs-preview">
                                        <div class="row">
                                            <div class="col-sm-3 mb-2 mb-sm-0">
                                                <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                                                    <a class="nav-link active" id="v-pills-settings-tab" data-bs-toggle="pill" href="#consolidate" role="tab" aria-controls="consolidate" aria-selected="false">
                                                        <i class="mdi mdi-settings-outline d-md-none d-block"></i>
                                                        <span class="d-none d-md-block">RCC</span>
                                                    </a>

                                                    <a class="nav-link" id="v-pills-settings-tab" data-bs-toggle="pill" href="#daily-table" role="tab" aria-controls="daily-table" aria-selected="false">
                                                        <i class="mdi mdi-settings-outline d-md-none d-block"></i>
                                                        <span class="d-none d-md-block">Planilla diaria</span>
                                                    </a>


                                                    <a class="nav-link" id="v-pills-settings-tab" data-bs-toggle="pill" href="#turn-bill" role="tab" aria-controls="turn-bill" aria-selected="false">
                                                        <i class="mdi mdi-settings-outline d-md-none d-block"></i>
                                                        <span class="d-none d-md-block">Facturación de turnos(Cliente)</span>
                                                    </a>


                                                </div>
                                            </div>
                                            <!-- end col-->

                                            <div class="col-sm-9">
                                                <div class="tab-content" id="v-pills-tabContent">
                                                    <div class="tab-pane   fade" id="turn-bill" role="tabpanel" aria-labelledby="turn-bill-tab">
                                                        <!--   <div class="d-flex w-auto">
                                                            <label class="form-label">Mes a facturar</label>
                                                            <input type="month" class="form-control date" id="birthdatepicker" data-toggle="date-picker" data-single-date-picker="true" style="height:38px">
                                                            <a href="#" class="mx-2">
                                                                <button class="btn btn-primary">Descargar</button>
                                                            </a>
                                                        </div> -->
                                                        <div class="table-responsive-sm">
                                                            <table class="table table-striped table-centered mb-0">
                                                                <thead>
                                                                    <tr>
                                                                        <th>Detalle</th>
                                                                        <th>Cant.</th>
                                                                        <th>Vr. Por turno ($)</th>
                                                                        <th>Subtotal</th>

                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr *ngFor="let facturation_report of facturation_reports">
                                                                        <td>{{facturation_report.turn.description}}{{facturation_report.turn.abbreviation}}</td>
                                                                        <td>{{facturation_report.cnt }}</td>
                                                                        <td>{{facturation_report.turn.value}} </td>
                                                                        <td>{{getSubtotal(facturation_report.cnt, facturation_report.turn.value)}} </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>
                                                                            <h4>TOTAL</h4>
                                                                        </td>
                                                                        <td>
                                                                            {{total_turns}}
                                                                        </td>
                                                                        <td>{{subtotal_turn}} </td>
                                                                        <td>
                                                                            <h4 class="text-primary">{{total}} </h4>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                            <div id="complex-header-datatable_paginate" class="dataTables_paginate paging_simple_numbers mt-1 text-end">
                                                                <ul class="pagination pagination-rounded text-end">
                                                                    <li id="complex-header-datatable_previous" class="paginate_button page-item previous disabled"><a href="#" aria-controls="complex-header-datatable" data-dt-idx="0" tabindex="0" class="page-link"><i class="mdi mdi-chevron-left"></i></a></li>
                                                                    <li class="paginate_button page-item active"><a href="#" aria-controls="complex-header-datatable" data-dt-idx="1" tabindex="0" class="page-link">1</a></li>
                                                                    <li id="complex-header-datatable_next" class="paginate_button page-item next"><a href="#" aria-controls="complex-header-datatable" data-dt-idx="7" tabindex="0" class="page-link"><i class="mdi mdi-chevron-right"></i></a></li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="tab-pane   fade" id="daily-table" role="tabpanel" aria-labelledby="daily-table-tab">
                                                        <div class=" d-flex w-auto ">
                                                            <label class="form-label">Dia a facturar</label>
                                                            <input type="date" class="form-control date " [(ngModel)]="filter_day" id="birthdatepicker" data-toggle="date-picker" data-single-date-picker="true" style="height: 38px;">
                                                            <span class="mx-2">
                                                                <button type="button" (click)="getDailyReport()" class="btn btn-primary">Filtrar</button>
                                                            </span>
                                                        </div>
                                                        <div class="table-responsive-sm">
                                                            <table class="table table-striped table-centered mb-0">
                                                                <thead>
                                                                    <tr>
                                                                        <th>Nombre</th>
                                                                        <th>Turno</th>
                                                                        <th>Horas laboradas</th>
                                                                        <th>Actividad Ejecutada</th>
                                                                        <th>Comentarios</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr *ngFor="let daily_report of daily_reports" style="cursor: pointer;" tabindex="0">
                                                                        <td class="table-user"><span>{{daily_report.employee.fullname}} </span></td>
                                                                        <td><span>{{daily_report.turn.description}}</span></td>
                                                                        <td><span>{{daily_report.date_start}} {{daily_report.date_stop}} </span></td>
                                                                        <td><span>{{daily_report.position.name}}</span></td>
                                                                        <td><span>{{daily_report.turn.comments}}</span></td>


                                                                    </tr>


                                                                </tbody>
                                                            </table>
                                                            <div class="alert alert-success" role="alert" *ngIf="daily_reports.length === 0">
                                                                <h4 class="alert-heading">No hay resultados que concuerden con esa fecha</h4>
                                                                <p></p>
                                                                <p class="mb-0">Busca otra fecha</p>
                                                            </div>
                                                            <div id="complex-header-datatable_paginate" class="dataTables_paginate paging_simple_numbers mt-1 text-end">
                                                                <ul class="pagination pagination-rounded text-end">
                                                                    <li id="complex-header-datatable_previous" class="paginate_button page-item previous disabled"><a href="#" aria-controls="complex-header-datatable" data-dt-idx="0" tabindex="0" class="page-link"><i class="mdi mdi-chevron-left"></i></a></li>
                                                                    <li class="paginate_button page-item active"><a href="#" aria-controls="complex-header-datatable" data-dt-idx="1" tabindex="0" class="page-link">1</a></li>
                                                                    <li id="complex-header-datatable_next" class="paginate_button page-item next"><a href="#" aria-controls="complex-header-datatable" data-dt-idx="7" tabindex="0" class="page-link"><i class="mdi mdi-chevron-right"></i></a></li>
                                                                </ul>
                                                            </div>
                                                        </div>

                                                    </div>
                                                    <div class="tab-pane active show fade" id="consolidate" role="tabpanel" aria-labelledby="consolidate-tab">
                                                        <div class="table-responsive-sm">
                                                            <table class="table table-striped table-centered mb-0">
                                                                <thead>
                                                                    <tr>
                                                                        <th>ID</th>
                                                                        <th>Nombre del empleado</th>
                                                                        <th>Cargo del empleado</th>
                                                                        <th>Horario turno</th>
                                                                        <th>Turno</th>
                                                                        <th>
                                                                            <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#add-staf-modal">
                                                                                <i class="mdi-plus mdi"></i> Personal
                                                                            </button>
                                                                        </th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr style="cursor: pointer;" tabindex="0" *ngFor="let rcc of rccs">
                                                                        <td class="table-user"><span>{{rcc.employee.document_number}} </span></td>
                                                                        <td><span>{{rcc.employee.fullname}} </span></td>
                                                                        <td><span>{{rcc.position.name}} </span></td>
                                                                        <td><span>{{rcc.position.horary}} </span></td>
                                                                        <td><span>{{rcc.turn.abbreviation}} </span></td>

                                                                        <td class="table-action">
                                                                            <a class="action-icon" [routerLink]="['/Home/ClientOperations',this.ID,'OperationsDetail', this.Oid, 'EmployeeMonthJob', rcc.employee_id]" routerLinkActive="router-link-active"><i class="uil uil-expand-arrows"></i></a>
                                                                        </td>
                                                                    </tr>

                                                                </tbody>
                                                            </table>

                                                        </div>

                                                        <div class="alert alert-success" role="alert" *ngIf="rccs.length === 0">
                                                            <h4 class="alert-heading">No hay empleados asignados a esta operación</h4>
                                                            <p></p>
                                                            <p class="mb-0">Agrega uno nuevo</p>
                                                        </div>
                                                    </div>

                                                </div>
                                                <!-- end tab-content-->
                                            </div>
                                            <!-- end col-->
                                        </div>
                                        <!-- end row-->
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="Desprendibles">
                                <div class="d-flex justify-content-between mb-2">

                                    <button class="btn btn-primary" style="height: 38px;">Descargar</button>
                                    <button class="btn btn-primary" data-bs-target="#add-removable-modal" data-bs-toggle="modal">Agregar reporte</button>


                                </div>
                                <div class="alert alert-success" role="alert" *ngIf="removables.length === 0">
                                    <h4 class="alert-heading">No hay desprendibles adjuntados a esta operación</h4>
                                    <p></p>
                                    <p class="mb-0">Crea uno nuevo</p>
                                </div>
                                <div class="app-search ">
                                    <div class="mb-2 position-relative">
                                        <input type="text" placeholder="Buscar cargas/descargas" class="form-control">
                                        <span class="mdi mdi-magnify search-icon"></span>
                                    </div>
                                </div>

                                <div class="table-responsive " *ngIf="removables.length > 0">
                                    <table class="table table-striped table-centered mb-0">
                                        <thead>
                                            <tr>
                                                <th>
                                                </th>
                                                <th>ID</th>
                                                <th>Nombre Completo</th>
                                                <th>Actividad</th>
                                                <th>Periodo</th>
                                                <th>Cargo</th>
                                                <th>Salario Básico</th>
                                                <th>Aux. de Tpt</th>
                                                <th>Du ración</th>
                                                <th>Inicio de contrato</th>
                                                <th>Fín contrato</th>

                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let removable of removables">
                                                <td class="table-user">
                                                    <img src="assets/images/users/avatar-2.jpg" alt="table-user" class="me-2 rounded-circle">
                                                </td>
                                                <td> {{removable.employee.document_number}} </td>
                                                <td> {{removable.employee.fullname}} </td>
                                                <td> {{removable.activity}} </td>
                                                <td> {{removable.date_start}} - {{removable.date_stop}} </td>
                                                <td> {{removable.position.name}}</td>
                                                <td>{{removable.basic_salary}} </td>
                                                <td> {{removable.auxiliary_transport}} </td>
                                                <td>{{removable.duration}}</td>
                                                <td> {{removable.date_start | date: 'short'}} </td>
                                                <td> {{removable.date_stop | date: 'short'}} </td>

                                            </tr>


                                        </tbody>
                                    </table>
                                </div>
                                <div id="complex-header-datatable_paginate" class="col-sm-12 dataTables_paginate paging_simple_numbers mt-2 d-flex justify-content-between">
                                    <ul class="pagination pagination-rounded text-end">
                                        <li id="complex-header-datatable_previous" class="paginate_button page-item previous disabled"><a href="#" aria-controls="complex-header-datatable" data-dt-idx="0" tabindex="0" class="page-link"><i class="mdi mdi-chevron-left"></i></a></li>
                                        <li class="paginate_button page-item active"><a href="#" aria-controls="complex-header-datatable" data-dt-idx="1" tabindex="0" class="page-link">1</a></li>
                                        <li id="complex-header-datatable_next" class="paginate_button page-item next"><a href="#" aria-controls="complex-header-datatable" data-dt-idx="7" tabindex="0" class="page-link"><i class="mdi mdi-chevron-right"></i></a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="operations-state">
                                <div class=" d-flex w-auto justify-content-end ">
                                    <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#add-operation-status-modal">Generar reporte</button>
                                </div>
                                <div class="alert alert-success my-2" role="alert" *ngIf="factualStatus.length === 0">
                                    <h4 class="alert-heading">No hay actualizaciones en la operación</h4>
                                    <p></p>
                                    <p class="mb-0">Genera un nuevo reporte</p>
                                </div>
                                <div class="table-responsive" *ngIf="factualStatus.length > 0">
                                    <table class="table table-striped table-centered mb-0">
                                        <thead>
                                            <tr>
                                                <th>Motonave/Barcaza</th>
                                                <th>Fecha</th>
                                                <th>Hora inicio </th>
                                                <th>Descripción/Novedad</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let factualStatu of factualStatus" style="cursor: pointer;" tabindex="0">
                                                <td><span>{{factualStatu.motor_ship}}</span></td>
                                                <td><span>{{factualStatu.createdAt | date:'shortDate'}}</span></td>
                                                <td><span>{{factualStatu.createdAt | date:'shortTime'}}</span></td>
                                                <td><span>{{factualStatu.description}}</span></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <div id="complex-header-datatable_paginate" class="dataTables_paginate paging_simple_numbers mt-1 text-end">
                                        <ul class="pagination pagination-rounded text-end">
                                            <li id="complex-header-datatable_previous" class="paginate_button page-item previous disabled"><a href="#" aria-controls="complex-header-datatable" data-dt-idx="0" tabindex="0" class="page-link"><i class="mdi mdi-chevron-left"></i></a></li>
                                            <li class="paginate_button page-item active"><a href="#" aria-controls="complex-header-datatable" data-dt-idx="1" tabindex="0" class="page-link">1</a></li>
                                            <li id="complex-header-datatable_next" class="paginate_button page-item next"><a href="#" aria-controls="complex-header-datatable" data-dt-idx="7" tabindex="0" class="page-link"><i class="mdi mdi-chevron-right"></i></a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="chargue">
                                <div class="container-btn d-flex justify-content-between mb-2">
                                    <button class="btn btn-primary" style="height: 38px;">Descargar</button>
                                    <button class="btn btn-primary mx-2" style="height: 38px;" data-bs-target="#add-charge-modal" data-bs-toggle="modal">Agregar reporte</button>
                                </div>
                                <div class="app-search ">
                                    <div class="alert alert-success" role="alert" *ngIf="carries.length === 0">
                                        <h4 class="alert-heading">No hay cargues disponibles</h4>
                                        <p></p>
                                        <p class="mb-0">Genera uno nuevo</p>
                                    </div>
                                    <div class="mb-2 position-relative">
                                        <input type="text" placeholder="Buscar cargas...." class="form-control">
                                        <span class="mdi mdi-magnify search-icon"></span>
                                    </div>
                                </div>
                                <div class="table-responsive" *ngIf="carries.length > 0">
                                    <table class="table table-striped table-centered mb-0">
                                        <thead>
                                            <tr>

                                                <th>Motonave/Barcaza</th>
                                                <th>Fecha y hora inicio</th>
                                                <th>Fecha y hora fin</th>
                                                <th>N° Bobinas</th>
                                                <th>Cliente</th>
                                                <th>Placa</th>
                                                <th>Remesa</th>
                                                <th>Código bobina</th>
                                                <th>Espesor</th>
                                                <th>Dimensiones</th>
                                                <th>Peso bruto</th>
                                                <th>Observaciones</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let carrie of carries">
                                                <td>{{carrie.motor_ship}}</td>
                                                <td>{{carrie.date_start}}</td>
                                                <td>{{carrie.date_stop}}</td>
                                                <td>{{carrie.coils}} </td>
                                                <td>{{carrie.client.client_name}} </td>
                                                <td>{{carrie.license_plate}}</td>
                                                <td>{{carrie.consignment}}</td>
                                                <td>{{carrie.coil_code}}</td>
                                                <td>{{carrie.thickness}}</td>
                                                <td>{{carrie.dimensions}}</td>
                                                <td>{{carrie.gross_weight}}</td>
                                                <td>{{carrie.observations}} </td>
                                            </tr>

                                        </tbody>
                                    </table>
                                </div>
                                <div id="complex-header-datatable_paginate" class="dataTables_paginate paging_simple_numbers mt-2 d-flex justify-content-between">

                                    <ul class="pagination pagination-rounded text-end">
                                        <li id="complex-header-datatable_previous" class="paginate_button page-item previous disabled"><a href="#" aria-controls="complex-header-datatable" data-dt-idx="0" tabindex="0" class="page-link"><i class="mdi mdi-chevron-left"></i></a></li>
                                        <li class="paginate_button page-item active"><a href="#" aria-controls="complex-header-datatable" data-dt-idx="1" tabindex="0" class="page-link">1</a></li>
                                        <li id="complex-header-datatable_next" class="paginate_button page-item next"><a href="#" aria-controls="complex-header-datatable" data-dt-idx="7" tabindex="0" class="page-link"><i class="mdi mdi-chevron-right"></i></a></li>
                                    </ul>

                                </div>

                            </div>
                            <div class="tab-pane fade" id="descharge">
                                <div class="alert alert-success" role="alert" *ngIf="discarries.length === 0">
                                    <h4 class="alert-heading">No hay descargues disponibles </h4>
                                    <p></p>
                                    <p class="mb-0">Genera uno nuevo</p>
                                </div>
                                <div class="container-btn d-flex justify-content-between mb-2">
                                    <button class="btn btn-primary" style="height: 38px;">Descargar</button>
                                    <button class="btn btn-primary mx-2" style="height: 38px;" data-bs-target="#add-descharge-modal" data-bs-toggle="modal">Agregar reporte</button>
                                </div>
                                <div class="app-search ">
                                    <div class="mb-2 position-relative">
                                        <input type="text" placeholder="Buscar descargas...." class="form-control">
                                        <span class="mdi mdi-magnify search-icon"></span>
                                    </div>
                                </div>
                                <div class="table-responsive" *ngIf="discarries.length > 0">
                                    <table class="table table-striped table-centered mb-0">
                                        <thead>
                                            <tr>

                                                <th>Motonave/Barcaza</th>
                                                <th>Fecha y hora inicio</th>
                                                <th>Fecha y hora fin</th>
                                                <th>N° Bobinas</th>
                                                <th>Cliente</th>
                                                <th>Observaciones</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let discarrie of discarries">

                                                <td>{{discarrie.motor_ship}}</td>
                                                <td>{{discarrie.date_start}}</td>
                                                <td>{{discarrie.date_stop}} </td>
                                                <td>0 </td>
                                                <td>{{discarrie.client.client_name}}</td>

                                                <td>{{discarrie.observations}} </td>
                                            </tr>

                                        </tbody>
                                    </table>
                                </div>
                                <div id="complex-header-datatable_paginate" class="dataTables_paginate paging_simple_numbers mt-2 d-flex justify-content-between">

                                    <ul class="pagination pagination-rounded text-end">
                                        <li id="complex-header-datatable_previous" class="paginate_button page-item previous disabled"><a href="#" aria-controls="complex-header-datatable" data-dt-idx="0" tabindex="0" class="page-link"><i class="mdi mdi-chevron-left"></i></a></li>
                                        <li class="paginate_button page-item active"><a href="#" aria-controls="complex-header-datatable" data-dt-idx="1" tabindex="0" class="page-link">1</a></li>
                                        <li id="complex-header-datatable_next" class="paginate_button page-item next"><a href="#" aria-controls="complex-header-datatable" data-dt-idx="7" tabindex="0" class="page-link"><i class="mdi mdi-chevron-right"></i></a></li>
                                    </ul>

                                </div>

                            </div>
                            <div class="tab-pane fade" id="office">
                                <div class="btn-container d-flex justify-content-between mb-2">
                                    <button class="btn btn-primary" style="height: 38px;">Descargar</button>
                                    <button class="btn btn-primary mx-2" style="height: 38px;" data-bs-target="#add-office-modal" data-bs-toggle="modal">Nuevo despacho</button>
                                </div>
                                <div class="alert alert-success" role="alert" *ngIf="dispatches.length === 0">
                                    <h4 class="alert-heading">No hay despachos existentes</h4>
                                    <p></p>
                                    <p class="mb-0">Genera uno nuevo</p>
                                </div>
                                <div class="app-search ">
                                    <div class="mb-2 position-relative">
                                        <input type="text" placeholder="Buscar despachos" class="form-control">
                                        <span class="mdi mdi-magnify search-icon"></span>
                                    </div>
                                </div>
                                <div class="table-responsive" *ngIf="dispatches.length > 0">
                                    <table class="table table-striped table-centered mb-0">
                                        <thead>
                                            <tr>
                                                <th>Motonave/Barcaza</th>
                                                <th>Fecha y hora inicio</th>
                                                <th>Fecha y hora fin</th>
                                                <th>N° Bobinas</th>
                                                <th>Cliente</th>
                                                <th>Placa</th>
                                                <th>Remesa</th>
                                                <th>Código bobina</th>
                                                <th>Espesor</th>
                                                <th>Dimensiones</th>
                                                <th>Peso bruto</th>
                                                <th>Observaciones</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let dispatch of dispatches">
                                                <td>{{dispatch.motor_ship}}</td>
                                                <td>{{dispatch.date_start }} </td>
                                                <td>{{dispatch.date_stop}}</td>
                                                <td>{{dispatch.coils}} </td>
                                                <td>{{dispatch.client.client_name}}</td>
                                                <td>{{dispatch.license_plate}}</td>
                                                <td>{{dispatch.consignment}}</td>
                                                <td>{{dispatch.coil_code}}</td>
                                                <td>{{dispatch.thickness}}</td>
                                                <td>{{dispatch.dimensions}}</td>
                                                <td>{{dispatch.gross_weight}}</td>
                                                <td>{{dispatch.observations}} </td>
                                            </tr>

                                        </tbody>
                                    </table>
                                </div>
                                <div id="complex-header-datatable_paginate" class="dataTables_paginate paging_simple_numbers mt-2 d-flex justify-content-between">

                                    <ul class="pagination pagination-rounded text-end">
                                        <li id="complex-header-datatable_previous" class="paginate_button page-item previous disabled"><a href="#" aria-controls="complex-header-datatable" data-dt-idx="0" tabindex="0" class="page-link"><i class="mdi mdi-chevron-left"></i></a></li>
                                        <li class="paginate_button page-item active"><a href="#" aria-controls="complex-header-datatable" data-dt-idx="1" tabindex="0" class="page-link">1</a></li>
                                        <li id="complex-header-datatable_next" class="paginate_button page-item next"><a href="#" aria-controls="complex-header-datatable" data-dt-idx="7" tabindex="0" class="page-link"><i class="mdi mdi-chevron-right"></i></a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="evidencias">
                                <div class="row">
                                    <div class="col-lg-6 col-md-12">
                                        <div class="card">

                                            <div class="card-body">
                                                <h5 class="card-title  mb-3">Adjunta material gráfico de la operacion</h5>
                                                <p class="card-text mb-3">Dimensiones recomendadas 800x400 (px)</p>
                                                <div class="mb-3">
                                                    <label for="simpleinput" class="form-label">Descripción</label>
                                                    <input type="text" id="simpleinput" [(ngModel)]="evidences_desc" class="form-control">
                                                </div>
                                                <div class="row align-items-center mb-3">

                                                    <div class="col">
                                                        <input type="file" accept="image=@/" #imageBox name="image" id="avatarinput" (change)="convert($event)" class="form-control">
                                                    </div>
                                                </div>

                                                <div class="col-sm-12 mb-sm-2 mt-2">
                                                    <button class="btn btn-primary" type="button" (click)="uploadEvidence()">Subir</button>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="col-lg-6 col-md-12">
                                        <div class="card">
                                            <div class="card-body">

                                                <div class="card mb-0 my-1 shadow-none border" *ngFor="let evidence of evidences">
                                                    <div class="p-2">
                                                        <div class="row align-items-center">
                                                            <div class="col-auto">
                                                                <div class="avatar-sm">
                                                                    <span class="avatar-title bg-secondary text-light rounded">
                                                                                                    IMG
                                                                                                </span>
                                                                </div>
                                                            </div>
                                                            <div class="col ps-0">
                                                                <a href="javascript:void(0);" class="text-muted fw-bold">{{evidence.description}} </a>
                                                                <p class="mb-0">{{evidence.createdAt | date:'short'}} </p>
                                                            </div>
                                                            <div class="col-auto">
                                                                <!-- Button -->
                                                                <a [href]="evidence.url" class="btn btn-link btn-lg text-muted">
                                                                    <i class="dripicons-download"></i>
                                                                </a>
                                                            </div>

                                                        </div>

                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <div class="tab-pane fade" id="reportes">
                                <div class="row" bis_skin_checked="1">
                                    <div class="col-sm-3 mb-2 mb-sm-0" bis_skin_checked="1">
                                        <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical" bis_skin_checked="1">
                                            <a class="nav-link active show" id="v-pills-home-tab" data-bs-toggle="pill" href="#v-pills-home" role="tab" aria-controls="v-pills-home" aria-selected="true">
                                                <i class="mdi mdi-home-variant d-md-none d-block"></i>
                                                <span class="d-none d-md-block">Crear Reporte</span>
                                            </a>
                                            <a class="nav-link" id="v-pills-profile-tab" data-bs-toggle="pill" href="#v-pills-profile" role="tab" aria-controls="v-pills-profile" aria-selected="false">
                                                <i class="mdi mdi-account-circle d-md-none d-block"></i>
                                                <span class="d-none d-md-block">Actualizar Reporte</span>
                                            </a>

                                        </div>
                                    </div>
                                    <!-- end col-->

                                    <div class="col-sm-9" bis_skin_checked="1">
                                        <div class="tab-content" id="v-pills-tabContent" bis_skin_checked="1">
                                            <div class="tab-pane fade active show" id="v-pills-home" role="tabpanel" aria-labelledby="v-pills-home-tab" bis_skin_checked="1">
                                                <h3>Si ya creaste un primer reporte | Avanza a actualizar</h3>
                                                <div class="mb-3" bis_skin_checked="1">
                                                    <label for="simpleinput" class="form-label">Rata Esperada</label>
                                                    <input type="number" placeholder="Rata Esperada" [(ngModel)]="expected_rat" id="simpleinput" class="form-control">
                                                </div>
                                                <div class="mb-3" bis_skin_checked="1">
                                                    <label for="simpleinput" class="form-label">Rata Real</label>
                                                    <input type="number" placeholder="Rata Real" [(ngModel)]="obtained_rat" id="simpleinput" class="form-control">
                                                </div>
                                                <div class="mb-3" bis_skin_checked="1">
                                                    <label for="simpleinput" class="form-label">Horas Esperadas</label>
                                                    <input type="number" placeholder="Horas Esperadas" [(ngModel)]="expected_time" id="simpleinput" class="form-control">

                                                </div>
                                                <div class="mb-3" bis_skin_checked="1">
                                                    <label for="simpleinput" class="form-label">Horas Real</label>
                                                    <input type="number" placeholder="Horas Reales" [(ngModel)]="real_time" id="simpleinput" class="form-control">
                                                </div>
                                                <div class="mb-3">
                                                    <button class="btn btn-primary" type="button" (click)="createReport()">
                                                        Generar Reporte
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="tab-pane fade" id="v-pills-profile" role="tabpanel" aria-labelledby="v-pills-profile-tab" bis_skin_checked="1">
                                                <div class="mb-3" bis_skin_checked="1">
                                                    <label for="simpleinput" class="form-label">Rata Esperada</label>
                                                    <input type="number" placeholder="Rata Esperada" [(ngModel)]="expected_rat" id="simpleinput" class="form-control">
                                                </div>
                                                <div class="mb-3" bis_skin_checked="1">
                                                    <label for="simpleinput" class="form-label">Rata Real</label>
                                                    <input type="number" placeholder="Rata Real" [(ngModel)]="obtained_rat" id="simpleinput" class="form-control">
                                                </div>
                                                <div class="mb-3" bis_skin_checked="1">
                                                    <label for="simpleinput" class="form-label">Horas Esperadas</label>
                                                    <input type="number" placeholder="Horas Esperadas" [(ngModel)]="expected_time" id="simpleinput" class="form-control">

                                                </div>
                                                <div class="mb-3" bis_skin_checked="1">
                                                    <label for="simpleinput" class="form-label">Horas Real</label>
                                                    <input type="number" placeholder="Horas Reales" [(ngModel)]="real_time" id="simpleinput" class="form-control">
                                                </div>
                                                <div class="mb-3">
                                                    <button class="btn btn-primary" type="button" (click)="updateReport()">
                                                        Actualizar Reporte
                                                    </button>
                                                </div>
                                            </div>

                                        </div>
                                        <!-- end tab-content-->
                                    </div>
                                    <!-- end col-->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        <!-- end preview-->
        <!-- end preview code-->
    </div>
    <!-- end tab-content-->
</div>
<!-- end card-body -->



<!-- ================================================= -->
<!-- =============ADD STAFF MODAL===================== -->
<!-- ================================================= -->
<div id="add-staf-modal" class="modal fade show" tabindex="-1" aria-labelledby="primary-header-modalLabel" style="display: none;" aria-modal="true" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header modal-colored-header bg-primary">
                <h4 class="modal-title" id="add-turn-modalLabel">Agregar Personal</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="date-container d-flex justify-content-between">
                    <div class="mb-3">
                        <label class="form-label">Fechas Inicial</label>
                        <input type="date" [(ngModel)]="date_start" class="form-control date" id="singledaterange" data-toggle="date-picker" data-cancel-class="btn-warning">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Fechas Final</label>
                        <input type="date" [(ngModel)]="date_stop" class="form-control date" id="singledaterange" data-toggle="date-picker" data-cancel-class="btn-warning">
                    </div>
                </div>


                <select class="form-select mb-3" [(ngModel)]="eid">
                    <option selected="">Seleccionar personal</option>
                    <option *ngFor="let employee of employees" [value]="employee.id"  >{{employee.fullname}} </option>

                </select>

                <select class="form-select mb-3" [(ngModel)]="turn_id">
                    <option selected="">Seleccionar turno</option>
                    <option *ngFor="let turn of turns" [value]="turn.id">{{turn.description}} </option>
                </select>
                <div class="mb-3">
                    <select class="form-select mb-3" [(ngModel)]="charge_id">
                        <option selected="">Seleccionar cargo</option>
                        <option [value]="charge.id"  *ngFor="let charge of charges">{{charge.name}}</option>
                      
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-light" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-primary" (click)="newEmployeeOperation()">Guardar</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
<!-- ================================================= -->
<!-- =============ADD REMOVABLE MODAL REPORT===================== -->
<!-- ================================================= -->
<div id="add-removable-modal" class="modal fade show" tabindex="-1" aria-labelledby="primary-header-modalLabel" style="display: none;" aria-modal="true" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header modal-colored-header bg-primary">
                <h4 class="modal-title" id="add-turn-modalLabel">Agregar Desprendible</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="form-container">

                    <div class="mb-3">
                        <label class="form-label">Empleado</label>
                        <select class="form-select mb-3" [(ngModel)]="employee_id">
                            <option selected="">Seleccionar empleado</option>
                            <option [value]="employee.id" *ngFor="let employee of employees">{{employee.fullname}}</option>
                          
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Actividad</label>
                        <input type="text" class="form-control" [(ngModel)]="activity" placeholder="Actividad del empleado">
                    </div>
                    <div class="mb-3 d-flex justify-content-between">
                        <div class="initial-date">
                            <label class="form-label">Fecha Inicial</label>
                            <input type="date" class="form-control" [(ngModel)]="date_start" placeholder="Periodo inicial de actividades">
                        </div>
                        <div class="finish-date">
                            <label class="form-label">Fecha Final</label>
                            <input type="date" class="form-control" [(ngModel)]="date_stop" placeholder="Periodo final de actividades">
                        </div>
                    </div>
                    <div class="mb-3">
                        <select class="form-select mb-3" [(ngModel)]="charge_id">
                            <option selected="">Seleccionar cargo</option>
                            <option [value]="charge.id" *ngFor="let charge of charges">{{charge.name}}</option>
                          
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Salario Básico</label>
                        <input type="number" [(ngModel)]="basic_salary" min="0" class="form-control" placeholder="Salario básico del empleado">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Aux. de Tpt</label>
                        <input type="number" [(ngModel)]="auxiliary_transport" min="0" class="form-control" placeholder="Auxilio de transporte">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Duración</label>
                        <input type="text" class="form-control" [(ngModel)]="duration" placeholder="Duración del contrato">
                    </div>

                </div>



            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-light" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-primary" (click)="newRemovable()">Guardar</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
<!-- ================================================= -->
<!-- =============ADD CHARGE  MODAL REPORT===================== -->
<!-- ================================================= -->
<div id="add-charge-modal" class="modal fade show" tabindex="-1" aria-labelledby="primary-header-modalLabel" style="display: none;" aria-modal="true" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header modal-colored-header bg-primary">
                <h4 class="modal-title" id="add-turn-modalLabel">Agregar Cargue</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="form-container">

                    <div class="mb-3">
                        <label class="form-label">Motonave/Barcaza</label>
                        <input type="text" class="form-control" [(ngModel)]="motor_ship" placeholder="Nombre de la motonave/barcaza">
                    </div>
                    <div class="mb-3 d-flex justify-content-between w-100">
                        <div class="initial-date w-50 mx-1">
                            <label class="form-label">Fecha Inicial</label>
                            <input type="datetime-local" class="form-control" [(ngModel)]="date_start" placeholder="Fecha inicial del movimiento">
                        </div>
                        <div class="finish-date w-50 ">
                            <label class="form-label">Fecha Final</label>
                            <input type="datetime-local" class="form-control" [(ngModel)]="date_stop" placeholder="Fecha del movimiento">
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">N° Bobinas</label>
                        <input type="number" min="0" max="1" class="form-control" [(ngModel)]="coils" placeholder="N° Bobinas">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Cliente</label>
                        <input type="text" class="form-control" disabled="" [(ngModel)]="client_name" placeholder="Nombre del cliente">
                    </div>


                    <div class="mb-3">
                        <label class="form-label">Placa</label>
                        <input type="text" class="form-control" [(ngModel)]="license_plate" placeholder="Placa de la motonave">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Remesa</label>
                        <input type="number" min="0" class="form-control" [(ngModel)]="consignment" placeholder="Remesa del movimiento">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Código bobina</label>
                        <input type="text" class="form-control" [(ngModel)]="coil_code" placeholder="Código de la bobina">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Espesor</label>
                        <input type="text" class="form-control" [(ngModel)]="thickness" placeholder="Espesor">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Dimensiones</label>
                        <input type="text" class="form-control" [(ngModel)]="dimensions" placeholder="Dimensiones de la bobina">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Peso bruto</label>
                        <input type="text" class="form-control" [(ngModel)]="gross_weight" placeholder="Peso bruto">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Observaciones</label>
                        <input type="text" class="form-control" [(ngModel)]="observations" placeholder="Observaciones del movimiento">
                    </div>

                </div>



            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-light" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-primary" (click)="newOperationCarrie()">Guardar</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
<!-- ================================================= -->
<!-- =============ADD DESCHARGE  MODAL REPORT===================== -->
<!-- ================================================= -->
<div id="add-descharge-modal" class="modal fade show" tabindex="-1" aria-labelledby="primary-header-modalLabel" style="display: none;" aria-modal="true" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header modal-colored-header bg-primary">
                <h4 class="modal-title" id="add-turn-modalLabel">Agregar Descargue</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="form-container">

                    <div class="mb-3">
                        <label class="form-label">Motonave/Barcaza</label>
                        <input type="text" class="form-control" [(ngModel)]="motor_ship" placeholder="Nombre de la motonave/barcaza">
                    </div>
                    <div class="mb-3 d-flex justify-content-between w-100">
                        <div class="initial-date w-50 mx-1">
                            <label class="form-label">Fecha Inicial</label>
                            <input type="datetime-local" class="form-control" [(ngModel)]="date_start" placeholder="Fecha inicial del movimiento">
                        </div>
                        <div class="finish-date w-50 ">
                            <label class="form-label">Fecha Final</label>
                            <input type="datetime-local" class="form-control" [(ngModel)]="date_stop" placeholder="Fecha del movimiento">
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">N° Bobinas</label>
                        <input type="number" min="0" max="1" [(ngModel)]="coils" class="form-control" placeholder="N° Bobinas">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Cliente</label>
                        <input type="text" disabled="" class="form-control" [(ngModel)]="client_name" placeholder="Nombre del cliente">
                    </div>



                    <div class="mb-3">
                        <label class="form-label">Observaciones</label>
                        <input type="text" [(ngModel)]="observations" class="form-control" placeholder="Observaciones del movimiento">
                    </div>

                </div>



            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-light" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-primary" (click)="newOperationDischarge()">Guardar</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
<!-- ================================================= -->
<!-- =============ADD OFFICE MODAL REPORT===================== -->
<!-- ================================================= -->
<div id="add-office-modal" class="modal fade show" tabindex="-1" aria-labelledby="primary-header-modalLabel" style="display: none;" aria-modal="true" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header modal-colored-header bg-primary">
                <h4 class="modal-title" id="add-turn-modalLabel">Agregar Despacho</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="form-container">

                    <div class="mb-3">
                        <label class="form-label">Motonave/Barcaza</label>
                        <input type="text" class="form-control" [(ngModel)]="motor_ship" placeholder="Nombre de la motonave/barcaza">
                    </div>
                    <div class="mb-3 d-flex justify-content-between w-100">
                        <div class="initial-date w-50 mx-1">
                            <label class="form-label">Fecha Inicial</label>
                            <input type="datetime-local" [(ngModel)]="date_start" class="form-control" placeholder="Fecha inicial del movimiento">
                        </div>
                        <div class="finish-date w-50 ">
                            <label class="form-label">Fecha Final</label>
                            <input type="datetime-local" [(ngModel)]="date_stop" class="form-control" placeholder="Fecha del movimiento">
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">N° Bobinas</label>
                        <input type="number" min="0" [(ngModel)]="coils" class="form-control" placeholder="N° Bobinas">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Placa</label>
                        <input type="number" min="0" [(ngModel)]="license_plate" class="form-control" placeholder="Placa de la motonave">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Remesa</label>
                        <input type="number" min="0" [(ngModel)]="consignment" class="form-control" placeholder="Remesa del despacho">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Código bobina</label>
                        <input type="text" [(ngModel)]="coil_code" class="form-control" placeholder="Código de la bobina">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Espesor</label>
                        <input type="text" [(ngModel)]="thickness" class="form-control" placeholder="Espesor">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Dimensiones</label>
                        <input type="text" [(ngModel)]="dimensions" class="form-control" placeholder="Dimensiones de la bobina">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Peso bruto</label>
                        <input type="text" [(ngModel)]="gross_weight" class="form-control" placeholder="Peso bruto">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Observaciones</label>
                        <input type="text" class="form-control" [(ngModel)]="observations" placeholder="Observaciones del despacho">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-light" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-primary" (click)="newDispatches()">Guardar</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
<!-- ================================================= -->
<!-- =============ADD OPERATION  STATUS REPORT MODAL===================== -->
<!-- ================================================= -->
<div id="add-operation-status-modal" class="modal fade show" tabindex="-1" aria-labelledby="primary-header-modalLabel" style="display: none;" aria-modal="true" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header modal-colored-header bg-primary">
                <h4 class="modal-title" id="add-turn-modalLabel">Agregar Reporte </h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="form-container">

                    <div class="mb-3">
                        <label class="form-label">Motonave/Barcaza</label>
                        <input type="text" [(ngModel)]="motor_ship" class="form-control" placeholder="Nombre de la motonave/barcaza">
                    </div>
                    <div class="mb-3 d-flex justify-content-between w-100">

                        <div class="finish-date w-100 ">
                            <label class="form-label">Fecha </label>
                            <input type="datetime-local" [(ngModel)]="date_start" class="form-control" placeholder="Fecha del reporte">
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Descripción</label>
                        <input type="text" [(ngModel)]="description " class="form-control" placeholder="Descripción del reporte">
                    </div>
                    <div class="mb-3">
                        <input type="checkbox" [(ngModel)]="email_notification" class="form-checkbox-primary mr-1">
                        <label class="form-check-label mx-1">Notificar al correo</label>
                    </div>
                </div>



            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-light" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-primary" (click)="newFactualState()">Guardar</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>